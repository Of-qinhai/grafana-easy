global:
  scrape_interval: 15s
  evaluation_interval: 15s

scrape_configs:
  - job_name: prometheus
    static_configs:
      - targets: ["prometheus:9090"]

  - job_name: grafana
    metrics_path: /metrics
    static_configs:
      - targets: ["grafana:3000"]

  # 本地 mock 业务指标：运行 `python3 grafana/mock_llm_metrics_server.py` 后即可被抓取。
  # Docker Desktop (macOS/Windows) 默认可用 host.docker.internal；若抓取失败可改成你的宿主机 IP。
  - job_name: mock-llm
    metrics_path: /metrics
    static_configs:
      - targets: ["host.docker.internal:18080"]
